import CreateDepartment from "@/components/department/create";
import CreateSupervisor from "@/components/supervisor/create";
import { Table, TableBody, TableCaption, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
import AppLayout from "@/layouts/app-layout";
import supervisor from "@/routes/supervisor";
import { BreadcrumbItem, User } from "@/types";
import { Head } from "@inertiajs/react";
import { ChevronRight } from "lucide-react";

const breadcrumbs: BreadcrumbItem[] = [
    {
        title: 'Manage Supervisors',
        href: supervisor.index().url,
    },
];

export default function SuperVisorIndex({supervisors}: {supervisors: User[]}) {
     return (
          <AppLayout breadcrumbs={breadcrumbs}>
               <Head title="Supervisors" />
               <div className="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4">
                    <div className="grid gap-4 md:grid-cols-3 flex-1">
                         <div className="col-span-1 space-y-2">
                              <CreateSupervisor />
                              <CreateDepartment />
                         </div>
                         <div className="col-span-2 space-y-2">
                              {/* <div className="font-bold text-neutral-400">Supervisors</div> */}
                              <Table>
                                   <TableCaption>A list of all supervisors.</TableCaption>
                                   <TableHeader>
                                        <TableRow>
                                             <TableHead className="">Name</TableHead>
                                             <TableHead>Department</TableHead>
                                             <TableHead>Email</TableHead>
                                             <TableHead className="w-4"></TableHead>
                                        </TableRow>
                                   </TableHeader>
                                   <TableBody>
                                        {supervisors.map((supervisor, index) => (
                                             <TableRow key={`supervisor-${index}`}>
                                                  <TableCell className="font-medium">{supervisor.name}</TableCell>
                                                  <TableCell>{supervisor.department.name}</TableCell>
                                                  <TableCell>{supervisor.email}</TableCell>
                                                  <TableCell className="w-4">
                                                       <ChevronRight className="size-4" />
                                                  </TableCell>
                                             </TableRow>
                                        ))}
                                   </TableBody>
                              </Table>
                         </div>
                    </div>
               </div>
          </AppLayout>
     )
}